<h2 class="title users_title"><%= t('views.users.index') %></h2>
<table class="main_table">
  <thead>
  <tr>
    <th class="nowrap"></th>
    <th class="nowrap"><%= User.human_attribute_name(:email) %></th>
    <th class="nowrap"><%= User.human_attribute_name(:name) %></th>
    <th class="nowrap"><%= User.human_attribute_name(:postal_code) %></th>
    <th class="nowrap"><%= User.human_attribute_name(:address) %></th>
    <th colspan="3"></th>
  </tr>
  </thead>

  <tbody>
  <% @users.each do |user| %>
    <tr>
      <td><%= image_tag user.avatar.variant(gravity: :center, resize_to_fill: [30, 30], crop:"30x30+0+0").processed if user.avatar.attached? %></td>
      <td><%= user.email %></td>
      <td><%= user.name %></td>
      <td><%= user.postal_code %></td>
      <td><%= user.address %></td>
      <td class="nowrap"><%= link_to t('views.common.show'), user %></td>
      <% if current_user == user %>
        <td class="nowrap"><%= link_to t('views.common.edit'), edit_user_registration_path %></td>
        <td class="nowrap"><%= link_to t('views.common.destroy'), user_registration_path, method: :delete, data: { confirm: t('views.common.delete_confirm') } %></td>
      <% end %>
    </tr>
  <% end %>
  </tbody>
</table>

<div class="pagination"><%= paginate @users %></div>
